{% load static %}

<!DOCTYPE html>
<html style="font-size: 16px;" lang="ru"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="​Digital product marketing agency, ​Make your marketing more effective, ​Convert more customers and grow more revenue now, 560k, 79%, 80%, 1340, ​Why you need digital marketing, ​Get Free SEO Analysis?, ​Got New Project?, Read what our customers say">
    <meta name="description" content="">
    <title>AI is here</title>
    <link rel="stylesheet" href="{% static 'css/nicepage.css' %}" media="screen">
    <link rel="stylesheet" href="{% static 'css/Страница-1.css' %}" media="screen">
    <link rel="stylesheet" href="{% static 'css/footer.css' %}" media="screen">
    <link rel="shortcut icon" type="image/png" href="{% static 'css/images/favicon.ico' %}">
    <script class="u-script" type="text/javascript" src="{% static 'js/jquery.js' %}" defer=""></script>
    <script class="u-script" type="text/javascript" src="{% static 'js/nicepage.js' %}" defer=""></script>
    <meta name="generator" content="Nicepage 5.11.4, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": ""
    }</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Страница 1">
    <meta property="og:type" content="website">
    <meta data-intl-tel-input-cdn-path="intlTelInput/"></head>
    <body data-home-page="Страница-1.html" data-home-page-title="Страница 1" class="u-body u-xl-mode" data-lang="ru">
    <header class="u-clearfix u-header u-sticky u-sticky-d4fb" id="sec-8f63" data-animation-name="" data-animation-duration="0" data-animation-delay="0" data-animation-direction="" style="background-color: white;">
    <style class="u-sticky-style" data-style-id="d4fb">.u-sticky-fixed.u-sticky-d4fb:before, .u-body.u-sticky-fixed .u-sticky-d4fb:before {
    borders: top right bottom left !important; border-color: #e0e5eb !important; border-width: 2px !important; border-style: double !important
    }</style>
      <div class="u-clearfix u-sheet u-valign-middle u-sheet-1" style="float: right; margin-right: 75px;">
        <nav class="u-menu u-menu-one-level u-offcanvas u-menu-1">
          <div class="menu-collapse" style="font-size: 1rem; letter-spacing: 0px;">
            <a class="u-button-style u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-top-bottom-menu-spacing u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#menu-hamburger"></use></svg>
              <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs>
                  <symbol id="menu-hamburger" viewBox="0 0 16 16" style="width: 16px; height: 16px;"><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
                  </symbol>
                  </defs></svg>
                  </a>
          </div>

          <div class="u-custom-menu u-nav-container" >

          <ul class="u-nav u-spacing-30 u-unstyled u-nav-1">
              {% if user.is_authenticated %}
              <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="Страница-1.html#sec-6d03" style="padding: 10px 0px;">Main</a></li>
              <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="Страница-1.html#sec-0436" style="padding: 10px 0px;">Your images</a></li>
              <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="Страница-1.html#carousel_b998" style="padding: 10px 0px;">Our team</a></li>
              <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="/logout" style="padding: 10px 0px;">Logout</a></li>
              {% else %}
              <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="/login" style="padding: 10px 0px;">Login</a></li>
              <li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-grey-90 u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-grey-90 u-text-hover-palette-1-base" href="/signup" style="padding: 10px 0px;">Sign up</a></li>
              {% endif %}
          </ul>
          </div>

          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-sidenav-overflow">

                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2">
                    {% if user.is_authenticated %}
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Страница-1.html#sec-6d03">Main</a></li>
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Страница-1.html#sec-0436">Your images</a></li>
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="Страница-1.html#carousel_b998">Our team</a></li>
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="/logout">Logout</a></li>
                    {% else %}
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="/login" >Login</a></li>
                    <li class="u-nav-item"><a class="u-button-style u-nav-link" href="/signup" >Sign up</a></li>
                    {% endif %}
                </ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div>
    </header>
   <section class="u-clearfix u-image u-section-1" id="sec-6d03" data-image-width="250" data-image-height="112" style="height: 800px;">

    <div class="u-clearfix u-sheet u-sheet-1" style="float: right; margin-right: 150px;">

        <main style="position: relative;">

            <div style="display: flex; justify-content: flex-end; align-items: flex-start; position: relative; z-index: 2; margin-top: 50px;">
                <div style="order: 1; width: 31%;">

      <form method="post" action="/analyze/" enctype="multipart/form-data" style="padding: 20px; background-color: rgba(255, 255, 255, 0); border: 2px solid white; border-radius: 20px;">
  {% csrf_token %}
  <h2 style="color: white; text-align: center;">Upload new image</h2>

  <div style="display: flex; flex-direction: column; align-items: center;">
    <label for="fileInput" style="padding: 10px 16px; margin-bottom: 10px; background-color: transparent; color: white; border: 2px solid white; border-radius: 10px; cursor: pointer; width: 270px; height: 40px; display: flex; align-items: center; justify-content: center;">Select File</label>
    <input type="file" name="image" id="fileInput" style="display: none; ">
    <div style="display: flex; align-items: center;">
      <span id="fileStatusLabel" style="color: white; margin-right: 5px;">File not selected</span>
      <span id="fileNameSpan" style="color: white; max-width: 270px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;"></span>

    </div>

    <button type="submit" style="background-color: transparent; color: white; border: 2px solid white; padding: 5px 16px; cursor: pointer; border-radius: 10px; width: 270px; height: 40px;">Predict</button>
  </div>
</form>
    {% if errors %}
        <ul>
            {% for field, error_msgs in errors.items %}
                {% for error_msg_dict in error_msgs %}
                    {% for key, error_msg in error_msg_dict.items %}
                        {% if key == 'message' and error_msg != 'This field is required.' %}
                            <p class="error-message" style="color: white; text-align: center; margin-right: 25px;">{{ error_msg }}</p>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            {% endfor %}
        </ul>
    {% endif %}
<script>
  const fileInput = document.getElementById("fileInput");
  const fileStatusLabel = document.getElementById("fileStatusLabel");
  const fileNameSpan = document.getElementById("fileNameSpan");

  fileInput.addEventListener("change", function() {
    if (fileInput.files.length > 0) {
      const fileName = fileInput.files[0].name;
      const fileExtension = fileName.split('.').pop();
      const maxLength = 15; // Максимальна довжина назви файлу
      const truncatedFileName = truncateString(fileName, maxLength);
<!--      const truncatedFileNameWithExtension = truncatedFileName + '.' + fileExtension;-->
      const truncatedFileNameWithExtension = truncatedFileName;
      fileStatusLabel.textContent = "Selected file:";
      fileNameSpan.textContent = truncatedFileNameWithExtension;
    } else {
      fileStatusLabel.textContent = "File not selected";
      fileNameSpan.textContent = "";
    }
  });

  // Функція для обмеження довжини рядка
  function truncateString(str, maxLength) {
    if (str.length > maxLength) {
      const truncatedStr = str.substring(0, maxLength / 2) + '...' + str.substring(str.length - maxLength / 2);
      return truncatedStr;
    }
    return str;
  }
</script>
                    {% if mess %}
                        <p class="error-message" style="color: white; text-align: center; ">{{ mess }}</p>
                    {% endif %}
  <div style="display: flex; justify-content: center;">
    <div id="resultSection">

        <h2 style="color: white; font-size: 15px; text-align: center;">
          {% if result_3 %}
             {{ result_3 }}
          {% endif %}
        </h2>
        <div id="resultContainer" style="display: flex; justify-content: center;">
            {% if image_url %}
            <img src="{{ image_url }}" alt="Uploaded Image" style="max-width: 250px; max-height: 250px;">
            {% endif %}
        </div>
    </div>
</div>
        </main>
    </div>

</section>
<section class="u-align-center u-clearfix u-palette-5-light-2 u-section-2" id="sec-0436">
  <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
  <h2 class="u-text u-text-default u-text-1">Your images</h2>
  <div class="u-expanded-width u-gallery u-layout-grid u-lightbox u-show-text-on-hover u-gallery-1">
    <div class="u-gallery-inner u-gallery-inner-1">
      {% for image in images %}
        {% if forloop.counter <= 9 %}
          <div class="u-effect-fade u-gallery-item">
            <div>
              <img class="u-back-image u-expanded" src="{{ image.image.url }}" alt="{{ image.title }}" onclick="analyze_image('{{ image.id }}')">
            </div>
          </div>
        {% endif %}
      {% empty %}
       <p class="u-text u-text-default u-text-2" style="text-align: center; margin: 0 auto;">No images found.</p>
      {% endfor %}
    </div>
  </div>
</div>

</section>

<script>
function analyze_image(imageId) {
  window.location.href = '/analyze/' + imageId + '/';
}
</script>

    <section class="u-align-center u-clearfix u-palette-5-light-2 u-section-3" id="carousel_b998">
      <div class="u-clearfix u-sheet u-sheet-1">
        <h2 class="u-text u-text-default u-text-1">Our team</h2>
        <div class="u-list u-list-1">
          <div class="u-repeater u-repeater-1">
            <div class="u-container-style u-list-item u-repeater-item">
              <div class="u-container-layout u-similar-container u-valign-top u-container-layout-1">
                <a href="https://github.com/romaniuk-o" class="u-border-2 u-border-black u-btn u-button-style u-custom-item u-hover-black u-none u-text-hover-white u-btn-1" target="_blank">Oleksandr Romaniuk</a>
              </div>
            </div>
            <div class="u-container-style u-list-item u-repeater-item">
              <div class="u-container-layout u-similar-container u-valign-top u-container-layout-2">
                <a href="https://github.com/Musfer" class="u-border-2 u-border-black u-btn u-button-style u-custom-item u-hover-black u-none u-text-hover-white u-btn-2" target="_blank">Musfer Adzhymambetov</a>
              </div>
            </div>
            <div class="u-container-style u-list-item u-repeater-item">
              <div class="u-container-layout u-similar-container u-valign-top u-container-layout-3">
                <a href="https://github.com/snail911" class="u-border-2 u-border-black u-btn u-button-style u-custom-item u-hover-black u-none u-text-hover-white u-btn-3" target="_blank">Yakiv Klymenko</a>

              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
     <footer style="position: relative; height: 100px; ">
        <div class="color-gradient"></div>
        <div class="footer-content">
            <div class="u-clearfix u-sheet u-valign-middle u-sheet-1" style="max-width: 200px; margin: 0 auto; ">
                <p class="u-small-text u-text u-text-palette-5-light-3 u-text-variant u-text-1">® GoIT DS 7 Team 3,  2023</p>
            </div>
        </div>
    </footer>

</body>
</html>